(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{107:function(e,t,a){"use strict";a.d(t,"a",(function(){return p})),a.d(t,"b",(function(){return m}));var n=a(0),r=a.n(n);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var b=r.a.createContext({}),l=function(e){var t=r.a.useContext(b),a=t;return e&&(a="function"==typeof e?e(t):s(s({},t),e)),a},p=function(e){var t=l(e.components);return r.a.createElement(b.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},u=r.a.forwardRef((function(e,t){var a=e.components,n=e.mdxType,o=e.originalType,c=e.parentName,b=i(e,["components","mdxType","originalType","parentName"]),p=l(a),u=n,m=p["".concat(c,".").concat(u)]||p[u]||d[u]||o;return a?r.a.createElement(m,s(s({ref:t},b),{},{components:a})):r.a.createElement(m,s({ref:t},b))}));function m(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=a.length,c=new Array(o);c[0]=u;var s={};for(var i in t)hasOwnProperty.call(t,i)&&(s[i]=t[i]);s.originalType=e,s.mdxType="string"==typeof e?e:n,c[1]=s;for(var b=2;b<o;b++)c[b]=a[b];return r.a.createElement.apply(null,c)}return r.a.createElement.apply(null,a)}u.displayName="MDXCreateElement"},173:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/usergmod_server_configuration-2153736ac38854c8a0a1d50491955a2f.png"},174:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/server_configuration_nano_editor_sudo-946f667a97b066dd1743a1168b7c61e7.png"},175:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/server_configuration_ssh_public_key-767bdbcb080922d711bc24dfafdcf2f2.png"},176:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/server_configuration_apt_update-a2f31515066ea2ee604abe90f5f45806.png"},177:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/server_configuration_apt_update_final-980727ccdd4eb1acffd431a100fec2b5.png"},178:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/server_configuration_sshd_before_port22-8708b81316e89cc715f93f8a325ffc0b.png"},179:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/server_configuration_sshd_after_port22-41c70796fbbbd7ff1d1fe0836268a4ca.png"},180:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/server_configuration_tcp_keep_alive_client_interval_before-6259641e02661da544ad97b66e477ad5.png"},181:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/server_configuration_tcp_keep_alive_client_interval_after-7e0a3d86c42f12ec8c4278c42e590367.png"},182:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/server_configuration_default_deny_allow-9ab3430af4a406ed0533d7675b81db13.png"},183:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/server_configuration_proto_limit-8c5b9ba6bc2f8bca89639e00751a74af.png"},184:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/server_configuration_enable_firewall-8cffef00b0392e0dabdf4657d8a996f1.png"},185:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/server_configuration_grep_firewall_ports-e95b392cb716661164752a7814965e97.png"},186:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/server_configuration_look_logged_in-10d70b485649ce7a6a849e85dc078b48.png"},187:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/server_configuration_sudo_password-ffb9e3c962bca3627a1b4135b3a89a51.png"},188:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/server_configuration_permitrootlogin_before-59bed20806ccf653dbdfa69247d9b483.png"},189:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/server_configuration_permitrootlogin_after-9ff0756b67b63cd1787d871e07239142.png"},190:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/server_configuration_final_key_ssh_public-4850aabbe63546e11de78566bec8fbd7.png"},78:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return c})),a.d(t,"metadata",(function(){return s})),a.d(t,"rightToc",(function(){return i})),a.d(t,"default",(function(){return l}));var n=a(2),r=a(6),o=(a(0),a(107)),c={title:"3. Configuring our server",description:"Configuring the server for our Cardano stakepool.",keywords:["cardano","blockchain","stakepool","staking","stake","how to","create","your","guide","documentation","proof of africa","poa","poapool","charles hoskinson","bitcoin","ethereum","ouroboros","proof of stake","pos","education","delegate","pledge"],image:"https://i.imgur.com/3V57abJ.png"},s={unversionedId:"english/cardano-stakepool-mainnet-guide/vps/creating-the-stakepool/server-configuration",id:"english/cardano-stakepool-mainnet-guide/vps/creating-the-stakepool/server-configuration",isDocsHomePage:!1,title:"3. Configuring our server",description:"Configuring the server for our Cardano stakepool.",source:"@site/docs/english/cardano-stakepool-mainnet-guide/vps/creating-the-stakepool/server-configuration.md",permalink:"/docs/english/cardano-stakepool-mainnet-guide/vps/creating-the-stakepool/server-configuration",sidebar:"docs",previous:{title:"2. Server setup (DigitalOcean)",permalink:"/docs/english/cardano-stakepool-mainnet-guide/vps/creating-the-stakepool/server-setup-digitalocean"},next:{title:"4. Setting up our node",permalink:"/docs/english/cardano-stakepool-mainnet-guide/vps/creating-the-stakepool/node-setup"}},i=[{value:"Creating a new user",id:"creating-a-new-user",children:[]},{value:"Updating, and installing some packages",id:"updating-and-installing-some-packages",children:[]},{value:"Firewalls, and SSH ports",id:"firewalls-and-ssh-ports",children:[]},{value:"Logging in as our new user",id:"logging-in-as-our-new-user",children:[]}],b={rightToc:i};function l(e){var t=e.components,c=Object(r.a)(e,["components"]);return Object(o.b)("wrapper",Object(n.a)({},b,c,{components:t,mdxType:"MDXLayout"}),Object(o.b)("p",null,"In this third part of the POA Stakepool Mainnet Guide, we will be configuring our first server. This means we will be installing the required packages, creating a non-root user, as well as setting up firewalls to protect our block-producing node."),Object(o.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(o.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},"From now on, ",Object(o.b)("strong",{parentName:"p"},"everything")," (unless mentioned otherwise) will be happening on your VPS."))),Object(o.b)("h3",{id:"creating-a-new-user"},"Creating a new user"),Object(o.b)("p",null,"We are currently logged in our server as \"root\". Root is a user which has all the admin privileges, consider it like the dictator position. Having the ability to become a dictator shouldn't exist, well, it's the exact same thing with the root user. Why? Because if someone is able to access the root user, he will have the ability to control the whole server, as the root user has all the admin privileges."),Object(o.b)("p",null,'This is the reason why we will only be using "root" temporarily, in order to configure our server, but afterwards, we will be moving over to the user we are now going to create.'),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"3.01")," Create a new user with the following command:"),Object(o.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(o.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},'Everytime you see "YourUserName", remove it, and replace it with the username you would like to use. In my case, this will be "foufnir".'))),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),"useradd YourUserName && passwd YourUserName\n")),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"3.02"),' Now, we need to add this user in the "sudo group", so he too, will be able to have some admin privileges:'),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),"usermod -aG sudo YourUserName\n")),Object(o.b)("p",null,Object(o.b)("img",{src:a(173).default})),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"3.03")," Let's change some other privileges"),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),"sudo visudo\n")),Object(o.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(o.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},'You are now in the "nano" editor. This is an editor in the Terminal which allows you to create and edit files. To quit the editor, first press ',Object(o.b)("em",{parentName:"p"},"ctrl + o")," to save, and ",Object(o.b)("em",{parentName:"p"},"ctrl + x")," to quit the editor."))),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"3.04"),' Now add the following line of code under "User privilege specification":'),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),"YourUserName ALL=(ALL:ALL) ALL\n")),Object(o.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(o.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},'Make sure to replace "YourUserName", with the username you created at the beginning of this part of the guide.'))),Object(o.b)("p",null,Object(o.b)("img",{src:a(174).default})),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"3.05")," Now execute the following commands in the right order, and make sure to always replace YourUserName with your username:"),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),"mkdir /home/YourUserName\n")),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),"chown YourUserName:YourUserName /home/YourUserName -R\n")),Object(o.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(o.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},Object(o.b)("strong",{parentName:"p"},"BEFORE")," executing the following command, first open a new tab in the terminal, and execute the following commands:"),Object(o.b)("pre",{parentName:"div"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),"cd\n")),Object(o.b)("pre",{parentName:"div"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),"cat ~/.ssh/myssh.pub\n")),Object(o.b)("p",{parentName:"div"},"Now copy the whole thing exactly like it is."),Object(o.b)("p",{parentName:"div"},Object(o.b)("img",{src:a(175).default})))),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),"rsync --archive --chown=YourUserName:YourUserName ~/.ssh /home/YourUserName\n")),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),"chsh -s /bin/bash YourUserName\n")),Object(o.b)("h3",{id:"updating-and-installing-some-packages"},"Updating, and installing some packages"),Object(o.b)("p",null,"Now we have created a new user, let's update the OS, as well as install the required packages to run our block-producing node."),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),"apt update -y\n")),Object(o.b)("p",null,Object(o.b)("img",{src:a(176).default})),Object(o.b)("p",null,Object(o.b)("img",{src:a(177).default})),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),"apt upgrade -y\n")),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),"sudo apt-get install automake build-essential pkg-config libffi-dev libgmp-dev libssl-dev libtinfo-dev libsystemd-dev zlib1g-dev make g++ tmux git jq wget libncursesw5 libtool autoconf -y\n")),Object(o.b)("h3",{id:"firewalls-and-ssh-ports"},"Firewalls, and SSH ports"),Object(o.b)("p",null,"We have a non-root user, updated our OS and installed the necessary packages, let's now setup our firewalls, as well as open the specific ports we will be using for our server."),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"3.06")," First, let's disable our firewall, so we don't get locked out when configurating it:"),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),"ufw disable\n")),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"3.07")," Now we are going to edit the ",Object(o.b)("em",{parentName:"p"},"sshd_config")," file, so we can change the default port of access, as well as some additional settings:"),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),"nano /etc/ssh/sshd_config\n")),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"3.08"),' We will be using port 3100 as the default port to access our server. Change the line "#Port 22" to "Port 3100". Make sure to remove the "#":\n',Object(o.b)("img",{src:a(178).default}),"\n",Object(o.b)("img",{src:a(179).default})),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"3.09"),' Scroll down, and let\'s change two more additional settings. First, replace "#TCPKeepAlive yes" to "TCPKeepAlive no". Second, replace "#ClientAliveInterval 0" with "ClientAliveInterval 1800":'),Object(o.b)("p",null,Object(o.b)("img",{src:a(180).default}),"\n",Object(o.b)("img",{src:a(181).default})),Object(o.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(o.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},"To go back to the Terminal, save the file with ",Object(o.b)("em",{parentName:"p"},"ctrl + o"),", and leave the editor with ",Object(o.b)("em",{parentName:"p"},"ctrl + x"),"."))),Object(o.b)("div",{className:"admonition admonition-caution alert alert--warning"},Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"}),Object(o.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"})))),"Are you delegating to POA?")),Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},"If not, please do. It's the only way we generate funds, which we can afterwards use to invest in our activities in Africa to get Cardano adopted there, but also to create more of the guides like the one you are currently using to create your stakepool."),Object(o.b)("p",{parentName:"div"},"Our ticker is ",Object(o.b)("strong",{parentName:"p"},Object(o.b)("a",Object(n.a)({parentName:"strong"},{href:"https://adapools.org/pool/683e89fa1bcde139504b11fbfd914f8ebe9b8db2678b3da0abdcb2f1"}),"POA")),". You know what to do."),Object(o.b)("p",{parentName:"div"},Object(o.b)("strong",{parentName:"p"},"Make the difference. #StakeWithAfrica")))),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"3.10")," Execute the following commands, which will allow outgoing connections, but will by default deny incoming connections:"),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),"ufw default deny incoming\n")),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),"ufw default allow outgoing\n")),Object(o.b)("p",null,Object(o.b)("img",{src:a(182).default}),"\n",Object(o.b)("strong",{parentName:"p"},"3.11")," We are now going to open the SSH port we will be using to connect to our server:"),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),"ufw limit proto tcp from any to any port 3100\n")),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"3.12")," Finally, we are going to open port 3000, as that's the port we will be using for our block-producing node"),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),"ufw allow proto tcp from any to any port 3000\n")),Object(o.b)("p",null,Object(o.b)("img",{src:a(183).default}),"\n",Object(o.b)("strong",{parentName:"p"},"3.13"),' Now re-enable the firewall (make sure to enter "y" to confirm):'),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),"ufw enable\n")),Object(o.b)("p",null,Object(o.b)("img",{src:a(184).default}),"\n",Object(o.b)("strong",{parentName:"p"},"3.14")," Let's double-check we opened the right ports:"),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),"ufw status verbose\n")),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"3.15"),' And double-check if your new user is in the "sudo group":'),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),"grep '^sudo:.*$' /etc/group | cut -d: -f4\n")),Object(o.b)("p",null,Object(o.b)("img",{src:a(185).default})),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"3.16")," It's REBOOT time! Let's restart the server:"),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),"reboot\n")),Object(o.b)("h3",{id:"logging-in-as-our-new-user"},"Logging in as our new user"),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"3.17")," Take a quick break now, just couple of minutes. Once you are done, execute the following command in order to log into your server, with the new user you created a bit earlier in this guide:"),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),"ssh -i ~/.ssh/myssh YourUserName@TheIPAddressOfYourServer -p 3100\n")),Object(o.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(o.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},'Make sure to replace "YourUserName" with your username, and "TheIPAddressOfYourServer" with the IP address of your server.'))),Object(o.b)("p",null,Object(o.b)("img",{src:a(186).default}),"\n",Object(o.b)("strong",{parentName:"p"},"3.18")," Congratulations! You are now logged in as your new user, on your server. Let's now remove the root user access, so we are a 100% sure that no one will be able to take the dictator position:"),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),"sudo nano /etc/ssh/sshd_config\n")),Object(o.b)("p",null,Object(o.b)("img",{src:a(187).default})),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"3.19"),' Change the "PermitRootLogin yes" line to "PermitRootLogin no"\n',Object(o.b)("img",{src:a(188).default}),"\n",Object(o.b)("img",{src:a(189).default})),Object(o.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(o.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},"To quit the nano editor, press ",Object(o.b)("em",{parentName:"p"},"ctrl + o")," to save the file, and ",Object(o.b)("em",{parentName:"p"},"ctrl + x")," to leave the editor."))),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"3.20")," Now finally, reload the SSH daemon:"),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),"sudo service sshd reload\n")),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"3.21")," Now check if your key has correctly been entered. On your server, execute the following commands:"),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),"cd\n")),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),"cat ~/.ssh/au*\n")),Object(o.b)("p",null,"Is your key exactly like it was during step ",Object(o.b)("strong",{parentName:"p"},"3.05"),"?\n",Object(o.b)("img",{src:a(190).default})),Object(o.b)("p",null,"If yes, perfect! If no, edit the file with ",Object(o.b)("inlineCode",{parentName:"p"},"nano ~/.ssh/au*")," and adapt it so it's exactly like your file on your local computer."),Object(o.b)("p",null,"Et voil\xe0! Your server is now finally configured, and you can head over to the fourth step of this guide."),Object(o.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(o.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"Become part of the POA community!")),Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},"If you want to meet other builders and global shapers, make sure to join our ",Object(o.b)("strong",{parentName:"p"},Object(o.b)("a",Object(n.a)({parentName:"strong"},{href:"https://t.me/poapool"}),"Telegram chat")),", where most of our community is hanging out. Oh, and if you have a question, you can also ask it there!"))))}l.isMDXComponent=!0}}]);