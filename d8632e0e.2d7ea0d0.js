(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{107:function(e,a,t){"use strict";t.d(a,"a",(function(){return b})),t.d(a,"b",(function(){return d}));var n=t(0),r=t.n(n);function o(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function c(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function s(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?c(Object(t),!0).forEach((function(a){o(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function i(e,a){if(null==e)return{};var t,n,r=function(e,a){if(null==e)return{};var t,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)t=o[n],a.indexOf(t)>=0||(r[t]=e[t]);return r}(e,a);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)t=o[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var l=r.a.createContext({}),p=function(e){var a=r.a.useContext(l),t=a;return e&&(t="function"==typeof e?e(a):s(s({},a),e)),t},b=function(e){var a=p(e.components);return r.a.createElement(l.Provider,{value:a},e.children)},u={inlineCode:"code",wrapper:function(e){var a=e.children;return r.a.createElement(r.a.Fragment,{},a)}},m=r.a.forwardRef((function(e,a){var t=e.components,n=e.mdxType,o=e.originalType,c=e.parentName,l=i(e,["components","mdxType","originalType","parentName"]),b=p(t),m=n,d=b["".concat(c,".").concat(m)]||b[m]||u[m]||o;return t?r.a.createElement(d,s(s({ref:a},l),{},{components:t})):r.a.createElement(d,s({ref:a},l))}));function d(e,a){var t=arguments,n=a&&a.mdxType;if("string"==typeof e||n){var o=t.length,c=new Array(o);c[0]=m;var s={};for(var i in a)hasOwnProperty.call(a,i)&&(s[i]=a[i]);s.originalType=e,s.mdxType="string"==typeof e?e:n,c[1]=s;for(var l=2;l<o;l++)c[l]=t[l];return r.a.createElement.apply(null,c)}return r.a.createElement.apply(null,t)}m.displayName="MDXCreateElement"},271:function(e,a,t){"use strict";t.r(a),a.default=t.p+"assets/images/stakepool-registration_create-new-gist-c6fa71b43508efe10e3925f2a7ccd9e0.png"},272:function(e,a,t){"use strict";t.r(a),a.default=t.p+"assets/images/stakepool-registration_pool-metadata-json-name-b73e045d11aff6880d7e388da596e173.png"},273:function(e,a,t){"use strict";t.r(a),a.default=t.p+"assets/images/stakepool-registration_create-new-gist-green-746eacdd83063f5d8ff62656bac05a17.png"},274:function(e,a,t){"use strict";t.r(a),a.default=t.p+"assets/images/stakepool-registration_click-raw-3029f5c5f3a0ef91e902f3ad8c45858e.png"},275:function(e,a,t){"use strict";t.r(a),a.default=t.p+"assets/images/stakepool-registration_raw-1e8fecbdd8829593d563164ac43db39a.png"},276:function(e,a,t){"use strict";t.r(a),a.default=t.p+"assets/images/stakepool-registration_shorten-aef80deab8f61a7c07662c20fde83ace.png"},277:function(e,a,t){"use strict";t.r(a),a.default=t.p+"assets/images/stakepool-registration_pool-metadata-json-hash-fc8d7392ae533235ab128321f90f0c7b.png"},278:function(e,a,t){"use strict";t.r(a),a.default=t.p+"assets/images/stakepool-registration_fee-calculation-4b6a0b44c93758dc5a3b6a30c2241af1.png"},99:function(e,a,t){"use strict";t.r(a),t.d(a,"frontMatter",(function(){return c})),t.d(a,"metadata",(function(){return s})),t.d(a,"rightToc",(function(){return i})),t.d(a,"default",(function(){return p}));var n=t(2),r=t(6),o=(t(0),t(107)),c={title:"8. Enregistrement de notre stake pool",description:"Enregistrement de notre stake pool Cardano.",keywords:["cardano","blockchain","stakepool","staking","stake","how to","create","your","guide","documentation","proof of africa","poa","poapool","charles hoskinson","bitcoin","ethereum","ouroboros","proof of stake","pos","education","delegate","pledge"],image:"https://i.imgur.com/3V57abJ.png"},s={unversionedId:"francais/cardano-stakepool-mainnet-guide/vps/creating-the-stakepool/stakepool-registration",id:"francais/cardano-stakepool-mainnet-guide/vps/creating-the-stakepool/stakepool-registration",isDocsHomePage:!1,title:"8. Enregistrement de notre stake pool",description:"Enregistrement de notre stake pool Cardano.",source:"@site/docs/francais/cardano-stakepool-mainnet-guide/vps/creating-the-stakepool/stakepool-registration.md",permalink:"/docs/francais/cardano-stakepool-mainnet-guide/vps/creating-the-stakepool/stakepool-registration",sidebar:"docs",previous:{title:"7. Mise en place d'un noeud relais",permalink:"/docs/francais/cardano-stakepool-mainnet-guide/vps/creating-the-stakepool/relay-node-setup"},next:{title:"9. Sauvegarde de vos fichiers",permalink:"/docs/francais/cardano-stakepool-mainnet-guide/vps/creating-the-stakepool/backing-up-your-files"}},i=[{value:"Cr\xe9ation du fichier <em>metadata.json</em>",id:"cr\xe9ation-du-fichier-metadatajson",children:[]},{value:"G\xe9n\xe9rer le certificat de la stake pool",id:"g\xe9n\xe9rer-le-certificat-de-la-stake-pool",children:[]},{value:"G\xe9n\xe9rer votre certificat de d\xe9l\xe9gation",id:"g\xe9n\xe9rer-votre-certificat-de-d\xe9l\xe9gation",children:[]},{value:"Calculer les frais li\xe9s \xe0 une transaction, construire une transaction et la soumettre",id:"calculer-les-frais-li\xe9s-\xe0-une-transaction-construire-une-transaction-et-la-soumettre",children:[]}],l={rightToc:i};function p(e){var a=e.components,c=Object(r.a)(e,["components"]);return Object(o.b)("wrapper",Object(n.a)({},l,c,{components:a,mdxType:"MDXLayout"}),Object(o.b)("p",null,"Dans cette partie du guide, nous allons ",Object(o.b)("strong",{parentName:"p"},"ENFIN")," enregistrer notre stake pool."),Object(o.b)("h3",{id:"cr\xe9ation-du-fichier-metadatajson"},"Cr\xe9ation du fichier ",Object(o.b)("em",{parentName:"h3"},"metadata.json")),Object(o.b)("p",null,"Afin d'enregistrer notre stake pool, nous devons fournir au r\xe9seau un fichier ",Object(o.b)("em",{parentName:"p"},"metadata.json"),", dans lequel nous stockerons toutes les informations pratiques concernant la stake pool. Cela comprend, le nom, l'adresse du site Web, le ticker, ainsi que la description."),Object(o.b)("p",null,"Pour ce faire, nous devrons stocker ce fichier quelque part. Nous allons donc le stocker sur GitHub."),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"8.01")," Si vous n'avez pas encore de compte GitHub, cr\xe9ez-en un ",Object(o.b)("strong",{parentName:"p"},Object(o.b)("a",Object(n.a)({parentName:"strong"},{href:"https://github.com"}),"ici")),". Si vous en avez d\xe9j\xe0 un, veuillez vous y connecter."),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"8.02")," Cliquez maintenant sur l'ic\xf4ne ",Object(o.b)("em",{parentName:"p"},"+")," \xe0 droite, et s\xe9lectionnez ",Object(o.b)("em",{parentName:"p"},"New gist"),".\n",Object(o.b)("img",{src:t(271).default}),"\n",Object(o.b)("strong",{parentName:"p"},"8.03")," Donnez-lui le nom suivant:"),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),"pool-metadata.json\n")),Object(o.b)("p",null,Object(o.b)("img",{src:t(272).default}),"\n",Object(o.b)("strong",{parentName:"p"},"8.04")," Maintenant, copiez-collez ceci dans le contenu du fichier:"),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),'{\n"name": "TestPool",\n"description": "The pool that tests all the pools",\n"ticker": "TEST",\n"homepage": "https://teststakepool.com"\n}\n')),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"8.05")," Vous pouvez adapter le contenu du fichier ",Object(o.b)("em",{parentName:"p"},"pool-metadata.json")," pour qu'il corresponde \xe0 vos besoins. Le notre pourrait ressembler \xe0 \xe7a:"),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),'{\n"name": "POA is awesome!",\n"description": "Go delegate to POA",\n"ticker": "POA12",\n"homepage": "https://poaisawesome.com"\n}\n')),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"8.06")," Une fois que vous avez termin\xe9 (assurez-vous de v\xe9rifier plusieurs fois si vous ayez tout saisi correctement), vous pouvez maintenant cliquer sur le bouton vert ",Object(o.b)("em",{parentName:"p"},"Create secret gist"),".\n",Object(o.b)("img",{src:t(273).default})),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"8.07")," Cliquez ensuite sur ",Object(o.b)("em",{parentName:"p"},"Raw")),Object(o.b)("p",null,Object(o.b)("img",{src:t(274).default})),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"8.08")," Maintenant, copiez le lien URL lorsque vous \xeates sur la page ",Object(o.b)("em",{parentName:"p"},"RAW")),Object(o.b)("p",null,Object(o.b)("img",{src:t(275).default})),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"8.09")," Allez sur ",Object(o.b)("strong",{parentName:"p"},Object(o.b)("a",Object(n.a)({parentName:"strong"},{href:"https://git.io"}),"git.io")),", et collez l'URL, puis cliquez sur ",Object(o.b)("em",{parentName:"p"},"Shorten")),Object(o.b)("p",null,Object(o.b)("img",{src:t(276).default})),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"8.10")," T\xe9l\xe9chargeons maintenant le fichier! Allez dans votre terminal, sortez du dossier dans lequel vous \xeates, entrez dans le dossier ",Object(o.b)("em",{parentName:"p"},"pool-keys")," et t\xe9l\xe9chargez le fichier."),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),"cd\n")),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),"cd cardano-node/pool-keys\n")),Object(o.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(o.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},"Assurez-vous de remplacer ",Object(o.b)("em",{parentName:"p"},"TheUrlOfYourRawPage")," par l'URL DE VOTRE PAGE RAW, PAS L'URL ABR\xc9G\xc9E de l'\xe9tape ",Object(o.b)("strong",{parentName:"p"},"8.09"),"."),Object(o.b)("p",{parentName:"div"},"Dans notre cas, nous utiliserons la commande suivante:"),Object(o.b)("pre",{parentName:"div"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),"wget https://gist.githubusercontent.com/foufnir/193e9ae05a6c8646afbe3681b1f05f3b/raw/61de0c325e1de9bc1e0c66da33ddb4e259c93c58/pool-metadata.json\n")))),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),"wget TheUrlOfYourRawPage\n")),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"8.11")," Ex\xe9cutez maintenant la commande suivante:"),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),"cardano-cli shelley stake-pool metadata-hash --pool-metadata-file pool-metadata.json\n")),Object(o.b)("p",null,Object(o.b)("img",{src:t(277).default})),Object(o.b)("p",null,"Sur l'image ci-dessus, vous pouvez voir le hash du fichier indiqu\xe9 par la fl\xe8che. Nous utiliserons ceci pendant le processus d'inscription."),Object(o.b)("div",{className:"admonition admonition-caution alert alert--warning"},Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"}),Object(o.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"})))),"D\xe9l\xe9guez-vous \xe0 POA?")),Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},"Sinon, pensez \xe0 le faire. C'est la seule fa\xe7on pour nous de g\xe9n\xe9rer des fonds, fonds que nous pouvons ensuite utiliser pour investir dans nos activit\xe9s en Afrique afin d'y faire la promotion de Cardano et d'en am\xe9liorer l'adoption, mais aussi pour cr\xe9er davantage de guides comme celui que vous utilisez actuellement pour cr\xe9er votre stake pool."),Object(o.b)("p",{parentName:"div"},"Notre ticker est ",Object(o.b)("strong",{parentName:"p"},Object(o.b)("a",Object(n.a)({parentName:"strong"},{href:"https://adapools.org/pool/683e89fa1bcde139504b11fbfd914f8ebe9b8db2678b3da0abdcb2f1"}),"POA")),". Vous savez d\xe9sormais quoi faire."),Object(o.b)("p",{parentName:"div"},Object(o.b)("strong",{parentName:"p"},"Make the difference. #StakeWithAfrica")))),Object(o.b)("h3",{id:"g\xe9n\xe9rer-le-certificat-de-la-stake-pool"},"G\xe9n\xe9rer le certificat de la stake pool"),Object(o.b)("p",null,"Nous allons maintenant g\xe9n\xe9rer le certificat. Assurez-vous de tout v\xe9rifier trois fois!"),Object(o.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(o.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("ul",{parentName:"div"},Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},"Remplacez ",Object(o.b)("em",{parentName:"p"},"YourPledgeInLovelaces"),", par le montant en Lovelaces dans votre portefeuille (",Object(o.b)("em",{parentName:"p"},"payment.addr"),"), que vous \xeates pr\xeat \xe0 engager comme pledge.")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},"Remplacez ",Object(o.b)("em",{parentName:"p"},"YourFixedCostInLovelaces")," par le montant en Lovelaces que vous \xeates pr\xeat \xe0 facturer en tant que frais fixes. Le ",Object(o.b)("strong",{parentName:"p"},"minimum est de 340 ADA"),", soit 340 millions de Lovelaces.")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},"Remplacez ",Object(o.b)("em",{parentName:"p"},"YourPoolMarginInPercentage"),", par le montant de marge que vous \xeates pr\xeat \xe0 facturer en pourcentage, comme ",Object(o.b)("em",{parentName:"p"},"0,01")," par exemple pour des frais de 1%.")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},"Remplacez ",Object(o.b)("em",{parentName:"p"},"TheIPaddressOfYourRelayNode"),", par l'adresse IP de votre serveur sur lesquels sont vos n\u0153uds relais.")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},"Remplacez ",Object(o.b)("em",{parentName:"p"},"TheURLYouShortened")," par l'URL que vous avez raccourcie sur ",Object(o.b)("strong",{parentName:"p"},Object(o.b)("a",Object(n.a)({parentName:"strong"},{href:"https://git.io"}),"git.io")),".")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},"Remplacez ",Object(o.b)("em",{parentName:"p"},"TheHashOfYourPoolMetadataFile"),", par le hash de votre fichier ",Object(o.b)("em",{parentName:"p"},"pool-metadata.json")," que vous avez trouv\xe9 \xe0 l'\xe9tape ",Object(o.b)("strong",{parentName:"p"},"8.11"),"."))),Object(o.b)("p",{parentName:"div"},"Dans notre cas, nous utiliserons la commande suivante:"),Object(o.b)("pre",{parentName:"div"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),"cardano-cli shelley stake-pool registration-certificate --cold-verification-key-file cold.vkey --vrf-verification-key-file vrf.vkey --pool-pledge 1000000 --pool-cost 340000000 --pool-margin 0.01 --pool-reward-account-verification-key-file stake.vkey --pool-owner-stake-verification-key-file stake.vkey --mainnet --pool-relay-ipv4 0.0.0.0 --pool-relay-port 3000 --metadata-url https://git.io/JULPb --metadata-hash 216960437b78187633d8dee93c1540939eb821d029e988b82946efe47a150d57 --out-file pool-registration.cert\n")))),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),"cardano-cli shelley stake-pool registration-certificate --cold-verification-key-file cold.vkey --vrf-verification-key-file vrf.vkey --pool-pledge YourPledgeInLovelaces --pool-cost YourFixedCostInLovelaces --pool-margin YourPoolMarginInPercentage --pool-reward-account-verification-key-file stake.vkey --pool-owner-stake-verification-key-file stake.vkey --mainnet --pool-relay-ipv4 TheIPaddressOfYourRelayNode --pool-relay-port 3000 --metadata-url TheURLYouShortened --metadata-hash TheHashOfYourPoolMetadataFile --out-file pool-registration.cert\n")),Object(o.b)("h3",{id:"g\xe9n\xe9rer-votre-certificat-de-d\xe9l\xe9gation"},"G\xe9n\xe9rer votre certificat de d\xe9l\xe9gation"),Object(o.b)("p",null,"Afin de rendre notre pledge officiel, nous devons g\xe9n\xe9rer un certificat:"),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"8.12")," Ex\xe9cutez la commande suivante pour g\xe9n\xe9rer le certificat:"),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),"cardano-cli shelley stake-address delegation-certificate --stake-verification-key-file stake.vkey --cold-verification-key-file cold.vkey --out-file delegation.cert\n")),Object(o.b)("h3",{id:"calculer-les-frais-li\xe9s-\xe0-une-transaction-construire-une-transaction-et-la-soumettre"},"Calculer les frais li\xe9s \xe0 une transaction, construire une transaction et la soumettre"),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"8.13")," Construisons un test de transaction, afin que nous puissions calculer les frais:"),Object(o.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(o.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},"Assurez-vous de remplacer ",Object(o.b)("em",{parentName:"p"},"YourOwnUTxO")," par votre adresse UTxO. Vous ne vous en souvenez pas ou ne le trouvez pas? Voici la commande:"),Object(o.b)("pre",{parentName:"div"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),"cardano-cli shelley query utxo --address $(cat payment.addr) --mainnet\n")),Object(o.b)("p",{parentName:"div"},"Remplacez ",Object(o.b)("em",{parentName:"p"},"TheNumberOfTransactionsMadeTotheUTxO")," par le nombre de transactions effectu\xe9es sur l'UTxO. Vous pouvez le trouver en ex\xe9cutant la commande ci-dessus. Assurez-vous de conserver le hashtag entre les deux!"),Object(o.b)("p",{parentName:"div"},"Dans notre cas, nous utiliserons la commande suivante:"),Object(o.b)("pre",{parentName:"div"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),"cardano-cli shelley transaction build-raw --tx-in 439784ebcfbfc5db241c5e6817a1a24ab5038f1f051cab25647108360694e9f6#0 --tx-out $(cat payment.addr)+0 --ttl 0 --fee 0 --out-file tx.raw --certificate-file pool-registration.cert --certificate-file delegation.cert\n")))),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),"cardano-cli shelley transaction build-raw --tx-in YourOwnUTxO#TheNumberOfTransactionsMadeTotheUTxO --tx-out $(cat payment.addr)+0 --ttl 0 --fee 0 --out-file tx.raw --certificate-file pool-registration.cert --certificate-file delegation.cert\n")),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"8.14")," Calculer les frais de transaction:"),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),"cardano-cli shelley transaction calculate-min-fee --tx-body-file tx.raw --tx-in-count 1 --tx-out-count 1 --mainnet --witness-count 1 --byron-witness-count 0 --protocol-params-file protocol.json\n")),Object(o.b)("p",null,Object(o.b)("img",{src:t(278).default})),Object(o.b)("p",null,"Comme vous pouvez le voir ci-dessus, les frais dans notre cas seront de 183101 Lovelaces. Ce sera probablement diff\xe9rent pour vous. Assurez-vous donc de v\xe9rifier les frais dans les commandes suivantes."),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"8.15")," Calculons de combien nous devons rembourser l'UTxO:"),Object(o.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(o.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},"Assurez-vous de remplacer ",Object(o.b)("em",{parentName:"p"},"TheAmountOfLovelacesInYourUTxO")," par le montant en Lovelaces dans votre UTxO."),Object(o.b)("p",{parentName:"div"},"Et remplacez ",Object(o.b)("em",{parentName:"p"},"TheFeeInLovelaces")," par les frais que vous avez calcul\xe9s \xe0 l'\xe9tape ",Object(o.b)("strong",{parentName:"p"},"8.14"),"."))),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),"expr TheAmountInLovelacesInYourUTxO - 500000000 - TheFeeInLovelaces\n")),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"8.16")," Calculez le TTL et \xe9ditez la transaction:"),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),"cardano-cli shelley query tip --mainnet\n")),Object(o.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(o.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},"Assurez-vous de remplacer ",Object(o.b)("em",{parentName:"p"},"slotNo")," par la valeur de ",Object(o.b)("em",{parentName:"p"},"slotNo")," que vous avez trouv\xe9e apr\xe8s l'ex\xe9cution de la commande pr\xe9c\xe9dente."))),Object(o.b)("p",null,"Pour calculer le TTL, ex\xe9cutez la commande suivante:"),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),"expr slotNo + 1000\n")),Object(o.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(o.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("ul",{parentName:"div"},Object(o.b)("li",{parentName:"ul"},"Assurez-vous de remplacer ",Object(o.b)("em",{parentName:"li"},"YourOwnUTxO")," par votre adresse UTxO. Vous ne vous en souvenez pas ou ne le trouvez pas? Voici la commande:")),Object(o.b)("pre",{parentName:"div"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),"cardano-cli shelley query utxo --address $(cat payment.addr) --mainnet\n")),Object(o.b)("ul",{parentName:"div"},Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},"Remplacez ",Object(o.b)("em",{parentName:"p"},"TheNumberOfTransactionsMadeTotheUTxO")," par le nombre de transactions effectu\xe9es sur l'UTxO. Vous pouvez le trouver en ex\xe9cutant la commande ci-dessus. Assurez-vous de conserve le hashtag!")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},"Remplacez ",Object(o.b)("em",{parentName:"p"},"TheAmountToPayBackToYourUTxOWeCalculatedInStep8Dot15")," par le montant en Lovelaces que vous avez calcul\xe9 \xe0 l'\xe9tape ",Object(o.b)("strong",{parentName:"p"},"8.15"),".")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},"Remplacez ",Object(o.b)("em",{parentName:"p"},"TheTTL")," par le TTL que vous avez calcul\xe9 avec la commande pr\xe9c\xe9dente.")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},"Remplacez ",Object(o.b)("em",{parentName:"p"},"TheFee")," par les frais en Lovelaces que vous avez calcul\xe9s \xe0 l'\xe9tape ",Object(o.b)("strong",{parentName:"p"},"8.14"),"."))))),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),"cardano-cli shelley transaction build-raw --tx-in YourOwnUTxO#TheNumberOfTransactionsMadeTotheUTxO --tx-out $(cat payment.addr)+TheAmountToPayBackToYourUTxOWeCalculatedInStep8Dot15 --ttl TheTTL --fee TheFee --out-file tx.raw --certificate-file pool-registration.cert --certificate-file delegation.cert\n")),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"8.17")," Signez la transaction"),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),"cardano-cli shelley transaction sign --tx-body-file tx.raw --signing-key-file payment.skey --signing-key-file stake.skey --signing-key-file cold.skey --mainnet --out-file tx.signed\n")),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"8.18")," Et soumettez la au r\xe9seau !"),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),"cardano-cli shelley transaction submit --tx-file tx.signed --mainnet\n")),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"8.19")," V\xe9rifiez maintenant votre ",Object(o.b)("em",{parentName:"p"},"pool ID"),":"),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),"cardano-cli shelley stake-pool id --verification-key-file cold.vkey\n")),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"8.20")," Allez maintenant sur ",Object(o.b)("strong",{parentName:"p"},Object(o.b)("a",Object(n.a)({parentName:"strong"},{href:"https://pooltool.io"}),"PoolTool")),", et recherchez votre ",Object(o.b)("em",{parentName:"p"},"pool ID")," dans la barre de recherche. Si vous pouvez trouver votre stake pool, excellent travail! Si vous ne pouvez pas, attendez quelques minutes, revenez, et si elle n'apparait toujours pas... Vous avez probablement fait une erreur quelque-part, reprenez les \xe9tapes de cette partie du guide."),Object(o.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(o.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"Rejoignez la communaut\xe9 POA!")),Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},"Si vous souhaitez rencontrer d'autres d\xe9veloppeurs et b\xe2tisseurs du monde de demain, assurez-vous de rejoindre notre fil ",Object(o.b)("strong",{parentName:"p"},Object(o.b)("a",Object(n.a)({parentName:"strong"},{href:"https://t.me/poapool"}),"Telegram")),", o\xf9 la plupart de notre communaut\xe9 se retrouve pour \xe9changer. Et si vous avez une question, c'est aussi l'endroit parfait pour la poser!"))))}p.isMDXComponent=!0}}]);