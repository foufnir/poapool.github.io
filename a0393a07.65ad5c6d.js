(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{107:function(e,t,a){"use strict";a.d(t,"a",(function(){return b})),a.d(t,"b",(function(){return m}));var n=a(0),r=a.n(n);function s(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){s(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},s=Object.keys(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var u=r.a.createContext({}),l=function(e){var t=r.a.useContext(u),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},b=function(e){var t=l(e.components);return r.a.createElement(u.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},d=r.a.forwardRef((function(e,t){var a=e.components,n=e.mdxType,s=e.originalType,c=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),b=l(a),d=n,m=b["".concat(c,".").concat(d)]||b[d]||p[d]||s;return a?r.a.createElement(m,o(o({ref:t},u),{},{components:a})):r.a.createElement(m,o({ref:t},u))}));function m(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var s=a.length,c=new Array(s);c[0]=d;var o={};for(var i in t)hasOwnProperty.call(t,i)&&(o[i]=t[i]);o.originalType=e,o.mdxType="string"==typeof e?e:n,c[1]=o;for(var u=2;u<s;u++)c[u]=a[u];return r.a.createElement.apply(null,c)}return r.a.createElement.apply(null,a)}d.displayName="MDXCreateElement"},227:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/usergmod_server_configuration-2153736ac38854c8a0a1d50491955a2f.png"},228:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/server_configuration_nano_editor_sudo-946f667a97b066dd1743a1168b7c61e7.png"},229:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/server_configuration_ssh_public_key-767bdbcb080922d711bc24dfafdcf2f2.png"},230:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/server_configuration_apt_update-a2f31515066ea2ee604abe90f5f45806.png"},231:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/server_configuration_apt_update_final-980727ccdd4eb1acffd431a100fec2b5.png"},232:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/server_configuration_sshd_before_port22-8708b81316e89cc715f93f8a325ffc0b.png"},233:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/server_configuration_sshd_after_port22-41c70796fbbbd7ff1d1fe0836268a4ca.png"},234:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/server_configuration_tcp_keep_alive_client_interval_before-6259641e02661da544ad97b66e477ad5.png"},235:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/server_configuration_tcp_keep_alive_client_interval_after-7e0a3d86c42f12ec8c4278c42e590367.png"},236:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/server_configuration_default_deny_allow-9ab3430af4a406ed0533d7675b81db13.png"},237:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/server_configuration_proto_limit-8c5b9ba6bc2f8bca89639e00751a74af.png"},238:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/server_configuration_enable_firewall-8cffef00b0392e0dabdf4657d8a996f1.png"},239:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/server_configuration_grep_firewall_ports-e95b392cb716661164752a7814965e97.png"},240:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/server_configuration_look_logged_in-10d70b485649ce7a6a849e85dc078b48.png"},241:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/server_configuration_sudo_password-ffb9e3c962bca3627a1b4135b3a89a51.png"},242:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/server_configuration_permitrootlogin_before-59bed20806ccf653dbdfa69247d9b483.png"},243:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/server_configuration_permitrootlogin_after-9ff0756b67b63cd1787d871e07239142.png"},244:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/server_configuration_final_key_ssh_public-4850aabbe63546e11de78566bec8fbd7.png"},87:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return c})),a.d(t,"metadata",(function(){return o})),a.d(t,"rightToc",(function(){return i})),a.d(t,"default",(function(){return l}));var n=a(2),r=a(6),s=(a(0),a(107)),c={title:"3. Configurer notre serveur",description:"Configurer le serveur de notre stake pool Cardano.",keywords:["cardano","blockchain","stakepool","staking","stake","how to","create","your","guide","documentation","proof of africa","poa","poapool","charles hoskinson","bitcoin","ethereum","ouroboros","proof of stake","pos","education","delegate","pledge"],image:"https://i.imgur.com/3V57abJ.png"},o={unversionedId:"francais/cardano-stakepool-mainnet-guide/vps/creating-the-stakepool/server-configuration",id:"francais/cardano-stakepool-mainnet-guide/vps/creating-the-stakepool/server-configuration",isDocsHomePage:!1,title:"3. Configurer notre serveur",description:"Configurer le serveur de notre stake pool Cardano.",source:"@site/docs/francais/cardano-stakepool-mainnet-guide/vps/creating-the-stakepool/server-configuration.md",permalink:"/docs/francais/cardano-stakepool-mainnet-guide/vps/creating-the-stakepool/server-configuration",sidebar:"docs",previous:{title:"2. Configuration du serveur (DigitalOcean)",permalink:"/docs/francais/cardano-stakepool-mainnet-guide/vps/creating-the-stakepool/server-setup-digitalocean"},next:{title:"4. Configurer notre noeud producteur de block",permalink:"/docs/francais/cardano-stakepool-mainnet-guide/vps/creating-the-stakepool/node-setup"}},i=[{value:"Cr\xe9er un nouvel utilisateur",id:"cr\xe9er-un-nouvel-utilisateur",children:[]},{value:"Mise \xe0 jour et installation des paquets n\xe9cessaires",id:"mise-\xe0-jour-et-installation-des-paquets-n\xe9cessaires",children:[]},{value:"Pare-feu et ports SSH",id:"pare-feu-et-ports-ssh",children:[]},{value:"Se connecter en tant que nouvel utilisateur",id:"se-connecter-en-tant-que-nouvel-utilisateur",children:[]}],u={rightToc:i};function l(e){var t=e.components,c=Object(r.a)(e,["components"]);return Object(s.b)("wrapper",Object(n.a)({},u,c,{components:t,mdxType:"MDXLayout"}),Object(s.b)("p",null,'Dans cette troisi\xe8me partie du guide, nous allons configurer notre premier serveur. Cela signifie que nous allons installer les paquets requis, cr\xe9er un utilisateur "non-root", ainsi que configurer des pare-feu pour prot\xe9ger notre noeud producteur de blocs.'),Object(s.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(s.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(s.b)("h5",{parentName:"div"},Object(s.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(s.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(s.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(s.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(s.b)("p",{parentName:"div"},"\xc0 partir de maintenant, ",Object(s.b)("strong",{parentName:"p"},"tout")," (sauf indication contraire) se passera sur votre VPS."))),Object(s.b)("h3",{id:"cr\xe9er-un-nouvel-utilisateur"},"Cr\xe9er un nouvel utilisateur"),Object(s.b)("p",null,"Nous sommes actuellement connect\xe9s \xe0 notre serveur en tant que \"root\". Root est un utilisateur qui a tous les privil\xe8ges administrateur, consid\xe9rez-le un peu comme le poste de dictateur. Avoir la capacit\xe9 de devenir un dictateur ne devrait pas exister, eh bien, c'est exactement la m\xeame chose avec l'utilisateur root. Pourquoi? Parce que si quelqu'un est capable d'acc\xe9der \xe0 l'utilisateur root, il aura la possibilit\xe9 de contr\xf4ler l'ensemble du serveur, car l'utilisateur root a tous les privil\xe8ges administrateur."),Object(s.b)("p",null,"C'est la raison pour laquelle nous n'utiliserons \"root\" que temporairement, afin de configurer notre serveur, mais apr\xe8s, nous passerons \xe0 l'utilisateur que nous allons cr\xe9er maintenant."),Object(s.b)("p",null,Object(s.b)("strong",{parentName:"p"},"3.01")," Cr\xe9ez un nouvel utilisateur avec la commande suivante:"),Object(s.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(s.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(s.b)("h5",{parentName:"div"},Object(s.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(s.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(s.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(s.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(s.b)("p",{parentName:"div"},'Chaque fois que vous voyez "YourUserName", supprimez-le et remplacez-le par le nom d\'utilisateur que vous souhaitez utiliser. Dans notre cas, ce sera "foufnir".'))),Object(s.b)("pre",null,Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),"useradd YourUserName && passwd YourUserName\n")),Object(s.b)("p",null,Object(s.b)("strong",{parentName:"p"},"3.02"),' Maintenant, nous devons ajouter cet utilisateur dans le "sudo group", ainsi lui aussi pourra avoir des privil\xe8ges administrateur:'),Object(s.b)("pre",null,Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),"usermod -aG sudo YourUserName\n")),Object(s.b)("p",null,Object(s.b)("img",{src:a(227).default})),Object(s.b)("p",null,Object(s.b)("strong",{parentName:"p"},"3.03")," Changeons d'autres privil\xe8ges"),Object(s.b)("pre",null,Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),"sudo visudo\n")),Object(s.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(s.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(s.b)("h5",{parentName:"div"},Object(s.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(s.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(s.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(s.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(s.b)("p",{parentName:"div"},"Vous \xeates maintenant dans l'\xe9diteur \"nano\". Il s'agit d'un \xe9diteur dans le terminal qui vous permet de cr\xe9er et d'\xe9diter des fichiers. Pour quitter l'\xe9diteur, appuyez d'abord sur ",Object(s.b)("em",{parentName:"p"},"ctrl + o")," pour enregistrer, et ",Object(s.b)("em",{parentName:"p"},"ctrl + x")," pour quitter l'\xe9diteur."))),Object(s.b)("p",null,Object(s.b)("strong",{parentName:"p"},"3.04"),' Maintenant, ajoutez la ligne de code suivante sous "User privilege specification":'),Object(s.b)("pre",null,Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),"YourUserName ALL=(ALL:ALL) ALL\n")),Object(s.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(s.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(s.b)("h5",{parentName:"div"},Object(s.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(s.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(s.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(s.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(s.b)("p",{parentName:"div"},'Assurez-vous de remplacer "YourUserName" par le nom d\'utilisateur que vous avez cr\xe9\xe9 au d\xe9but de cette partie du guide.'))),Object(s.b)("p",null,Object(s.b)("img",{src:a(228).default})),Object(s.b)("p",null,Object(s.b)("strong",{parentName:"p"},"3.05")," Ex\xe9cutez maintenant les commandes suivantes dans le bon ordre et assurez-vous de toujours remplacer YourUserName par votre nom d'utilisateur:"),Object(s.b)("pre",null,Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),"mkdir /home/YourUserName\n")),Object(s.b)("pre",null,Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),"chown YourUserName:YourUserName /home/YourUserName -R\n")),Object(s.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(s.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(s.b)("h5",{parentName:"div"},Object(s.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(s.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(s.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(s.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(s.b)("p",{parentName:"div"},Object(s.b)("strong",{parentName:"p"},"AVANT")," d'executer la prochaine commande, ouvrez un nouvel onglet dans le Terminal, et executez ces commandes:"),Object(s.b)("pre",{parentName:"div"},Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),"cd\n")),Object(s.b)("pre",{parentName:"div"},Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),"cat ~/.ssh/myssh.pub\n")),Object(s.b)("p",{parentName:"div"},"Maintenant, copiez le contenu."),Object(s.b)("p",{parentName:"div"},Object(s.b)("img",{src:a(229).default})))),Object(s.b)("pre",null,Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),"rsync --archive --chown=YourUserName:YourUserName ~/.ssh /home/YourUserName\n")),Object(s.b)("pre",null,Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),"chsh -s /bin/bash YourUserName\n")),Object(s.b)("h3",{id:"mise-\xe0-jour-et-installation-des-paquets-n\xe9cessaires"},"Mise \xe0 jour et installation des paquets n\xe9cessaires"),Object(s.b)("p",null,"Maintenant que nous avons cr\xe9\xe9 un nouvel utilisateur, mettons \xe0 jour le syst\xe8me d'exploitation et installons les paquets requis pour faire fonctionner notre noeud producteur de blocs."),Object(s.b)("pre",null,Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),"apt update -y\n")),Object(s.b)("p",null,Object(s.b)("img",{src:a(230).default})),Object(s.b)("p",null,Object(s.b)("img",{src:a(231).default})),Object(s.b)("pre",null,Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),"apt upgrade -y\n")),Object(s.b)("pre",null,Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),"sudo apt-get install automake build-essential pkg-config libffi-dev libgmp-dev libssl-dev libtinfo-dev libsystemd-dev zlib1g-dev make g++ tmux git jq wget libncursesw5 libtool autoconf -y\n")),Object(s.b)("h3",{id:"pare-feu-et-ports-ssh"},"Pare-feu et ports SSH"),Object(s.b)("p",null,"Nous avons cr\xe9\xe9 un utilisateur \"non-root\", mis \xe0 jour notre syst\xe8me d'exploitation et install\xe9 les packages n\xe9cessaires. Configurons maintenant notre pare-feu, ainsi que d'ouvrir les ports sp\xe9cifiques que nous utiliserons pour notre serveur."),Object(s.b)("p",null,Object(s.b)("strong",{parentName:"p"},"3.06")," Tout d'abord, d\xe9sactivons notre pare-feu, pour ne pas \xeatre verrouill\xe9 lors de sa configuration:"),Object(s.b)("pre",null,Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),"ufw disable\n")),Object(s.b)("p",null,Object(s.b)("strong",{parentName:"p"},"3.07")," Nous allons maintenant \xe9diter le fichier ",Object(s.b)("em",{parentName:"p"},"sshd_config"),", afin de pouvoir changer le port d'acc\xe8s par d\xe9faut, ainsi que quelques param\xe8tres suppl\xe9mentaires:"),Object(s.b)("pre",null,Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),"nano /etc/ssh/sshd_config\n")),Object(s.b)("p",null,Object(s.b)("strong",{parentName:"p"},"3.08"),' Nous utiliserons le port 3100 comme port par d\xe9faut pour acc\xe9der \xe0 notre serveur. Remplacez la ligne \xab#Port 22\xbb par \xabPort 3100\xbb. Assurez-vous de supprimer le "#":\n',Object(s.b)("img",{src:a(232).default}),"\n",Object(s.b)("img",{src:a(233).default})),Object(s.b)("p",null,Object(s.b)("strong",{parentName:"p"},"3.09"),' Faites d\xe9filer vers le bas et modifions deux autres param\xe8tres suppl\xe9mentaires. Tout d\'abord, remplacez "#TCPKeepAlive yes" par "TCPKeepAlive no". Deuxi\xe8mement, remplacez \xab#ClientAliveInterval 0\xbb par \xabClientAliveInterval 1800\xbb:'),Object(s.b)("p",null,Object(s.b)("img",{src:a(234).default}),"\n",Object(s.b)("img",{src:a(235).default})),Object(s.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(s.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(s.b)("h5",{parentName:"div"},Object(s.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(s.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(s.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(s.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(s.b)("p",{parentName:"div"},"Pour revenir au Terminal, enregistrez le fichier avec ",Object(s.b)("em",{parentName:"p"},"ctrl + o"),", et quittez l'\xe9diteur avec ",Object(s.b)("em",{parentName:"p"},"ctrl + x"),"."))),Object(s.b)("div",{className:"admonition admonition-caution alert alert--warning"},Object(s.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(s.b)("h5",{parentName:"div"},Object(s.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(s.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"}),Object(s.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"})))),"D\xe9l\xe9guez-vous \xe0 POA?")),Object(s.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(s.b)("p",{parentName:"div"},"Sinon, pensez \xe0 le faire. C'est la seule fa\xe7on pour nous de g\xe9n\xe9rer des fonds, fonds que nous pouvons ensuite utiliser pour investir dans nos activit\xe9s en Afrique afin d'y faire la promotion de Cardano et d'en am\xe9liorer l'adoption, mais aussi pour cr\xe9er davantage de guides comme celui que vous utilisez actuellement pour cr\xe9er votre stake pool."),Object(s.b)("p",{parentName:"div"},"Notre ticker est ",Object(s.b)("strong",{parentName:"p"},Object(s.b)("a",Object(n.a)({parentName:"strong"},{href:"https://adapools.org/pool/683e89fa1bcde139504b11fbfd914f8ebe9b8db2678b3da0abdcb2f1"}),"POA")),". Vous savez d\xe9sormais quoi faire."),Object(s.b)("p",{parentName:"div"},Object(s.b)("strong",{parentName:"p"},"Make the difference. #StakeWithAfrica")))),Object(s.b)("p",null,Object(s.b)("strong",{parentName:"p"},"3.10")," Ex\xe9cutez les commandes suivantes, qui autoriseront les connexions sortantes, mais refuseront par d\xe9faut les connexions entrantes:"),Object(s.b)("pre",null,Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),"ufw default deny incoming\n")),Object(s.b)("pre",null,Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),"ufw default allow outgoing\n")),Object(s.b)("p",null,Object(s.b)("img",{src:a(236).default}),"\n",Object(s.b)("strong",{parentName:"p"},"3.11")," Nous allons maintenant ouvrir le port SSH que nous utiliserons pour nous connecter \xe0 notre serveur:"),Object(s.b)("pre",null,Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),"ufw limit proto tcp from any to any port 3100\n")),Object(s.b)("p",null,Object(s.b)("strong",{parentName:"p"},"3.12")," Enfin, nous allons ouvrir le port 3000, car c'est le port que nous utiliserons pour notre noeud producteur de blocs:"),Object(s.b)("pre",null,Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),"ufw allow proto tcp from any to any port 3000\n")),Object(s.b)("p",null,Object(s.b)("img",{src:a(237).default}),"\n",Object(s.b)("strong",{parentName:"p"},"3.13"),' Maintenant, r\xe9activez le pare-feu (assurez-vous d\'entrer "y" pour confirmer):'),Object(s.b)("pre",null,Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),"ufw enable\n")),Object(s.b)("p",null,Object(s.b)("img",{src:a(238).default}),"\n",Object(s.b)("strong",{parentName:"p"},"3.14")," V\xe9rifions que nous avons ouvert les bons ports:"),Object(s.b)("pre",null,Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),"ufw status verbose\n")),Object(s.b)("p",null,Object(s.b)("strong",{parentName:"p"},"3.15"),' V\xe9rifiez si votre nouvel utilisateur est dans le "sudo group":'),Object(s.b)("pre",null,Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),"grep '^sudo:.*$' /etc/group | cut -d: -f4\n")),Object(s.b)("p",null,Object(s.b)("img",{src:a(239).default})),Object(s.b)("p",null,Object(s.b)("strong",{parentName:"p"},"3.16")," Il est temps de red\xe9marrer le serveur:"),Object(s.b)("pre",null,Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),"reboot\n")),Object(s.b)("h3",{id:"se-connecter-en-tant-que-nouvel-utilisateur"},"Se connecter en tant que nouvel utilisateur"),Object(s.b)("p",null,Object(s.b)("strong",{parentName:"p"},"3.17")," Faites une courte pause maintenant, juste quelques minutes. Une fois que vous avez termin\xe9, ex\xe9cutez la commande suivante pour vous connecter \xe0 votre serveur, avec le nouvel utilisateur que vous avez cr\xe9\xe9 un peu plus t\xf4t dans ce guide:"),Object(s.b)("pre",null,Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),"ssh -i ~/.ssh/myssh YourUserName@TheIPAddressOfYourServer -p 3100\n")),Object(s.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(s.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(s.b)("h5",{parentName:"div"},Object(s.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(s.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(s.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(s.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(s.b)("p",{parentName:"div"},'Assurez-vous de remplacer "YourUserName" par votre nom d\'utilisateur et "TheIPAddressOfYourServer" par l\'adresse IP de votre serveur.'))),Object(s.b)("p",null,Object(s.b)("img",{src:a(240).default}),"\n",Object(s.b)("strong",{parentName:"p"},"3.18")," F\xe9licitations! Vous \xeates maintenant connect\xe9 en tant que nouvel utilisateur, sur votre serveur. Supprimons maintenant l'acc\xe8s de l'utilisateur root, nous serons donc s\xfbrs \xe0 100% que personne ne pourra prendre la position de dictateur:"),Object(s.b)("pre",null,Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),"sudo nano /etc/ssh/sshd_config\n")),Object(s.b)("p",null,Object(s.b)("img",{src:a(241).default})),Object(s.b)("p",null,Object(s.b)("strong",{parentName:"p"},"3.19"),' Remplacez la ligne "PermitRootLogin yes" par "PermitRootLogin no"\n',Object(s.b)("img",{src:a(242).default}),"\n",Object(s.b)("img",{src:a(243).default})),Object(s.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(s.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(s.b)("h5",{parentName:"div"},Object(s.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(s.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(s.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(s.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(s.b)("p",{parentName:"div"},"Pour quitter l'\xe9diteur nano, appuyez sur ",Object(s.b)("em",{parentName:"p"},"ctrl + o")," pour enregistrer le fichier, et ",Object(s.b)("em",{parentName:"p"},"ctrl + x")," pour quitter l'\xe9diteur."))),Object(s.b)("p",null,Object(s.b)("strong",{parentName:"p"},"3.20")," Maintenant, rechargez le SSH daemon:"),Object(s.b)("pre",null,Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),"sudo service sshd reload\n")),Object(s.b)("p",null,Object(s.b)("strong",{parentName:"p"},"3.21")," Et verifier que votre cl\xe9 fut bien sauvegarder:"),Object(s.b)("pre",null,Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),"cd\n")),Object(s.b)("pre",null,Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),"cat ~/.ssh/au*\n")),Object(s.b)("p",null,"Est que la cl\xe9 est exactement la m\xeame que celle durant l'\xe9tape ",Object(s.b)("strong",{parentName:"p"},"3.05"),"?\n",Object(s.b)("img",{src:a(244).default})),Object(s.b)("p",null,"Si oui, parfait! Si non, vous pouvez modifier le fichier avec la commande suivante ",Object(s.b)("inlineCode",{parentName:"p"},"nano ~/.ssh/au*")," pour faire en sorte que la cl\xe9 soit exactement la m\xeame."),Object(s.b)("p",null,"Et voil\xe0! Votre serveur est maintenant enfin configur\xe9 et vous pouvez passer \xe0 la quatri\xe8me \xe9tape de ce guide."),Object(s.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(s.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(s.b)("h5",{parentName:"div"},Object(s.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(s.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(s.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"Rejoignez la communaut\xe9 POA!")),Object(s.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(s.b)("p",{parentName:"div"},"Si vous souhaitez rencontrer d'autres d\xe9veloppeurs et b\xe2tisseurs du monde de demain, assurez-vous de rejoindre notre fil ",Object(s.b)("strong",{parentName:"p"},Object(s.b)("a",Object(n.a)({parentName:"strong"},{href:"https://t.me/poapool"}),"Telegram")),", o\xf9 la plupart de notre communaut\xe9 se retrouve pour \xe9changer. Et si vous avez une question, c'est aussi l'endroit parfait pour la poser!"))))}l.isMDXComponent=!0}}]);